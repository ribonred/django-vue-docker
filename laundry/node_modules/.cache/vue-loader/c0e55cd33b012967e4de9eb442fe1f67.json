{"remainingRequest":"/home/red/project/laundry/laundrydatabase/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/red/project/laundry/laundrydatabase/frontend/node_modules/vuejs-smart-table/src/VTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/red/project/laundry/laundrydatabase/frontend/node_modules/vuejs-smart-table/src/VTable.vue","mtime":499162500000},{"path":"/home/red/project/laundry/laundrydatabase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/red/project/laundry/laundrydatabase/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/red/project/laundry/laundrydatabase/frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/red/project/laundry/laundrydatabase/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/red/project/laundry/laundrydatabase/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRvRmlsdGVyLCBkb1NvcnQsIGNhbGN1bGF0ZVRvdGFsUGFnZXMsIGRvUGFnaW5hdGUgfSBmcm9tICcuL3RhYmxlLXV0aWxzJwppbXBvcnQgc3RvcmUgZnJvbSAnLi9zdG9yZScKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NtYXJ0VGFibGUnLAogIHByb3BzOiB7CiAgICBkYXRhOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIGZpbHRlcnM6IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB0eXBlOiBPYmplY3QKICAgIH0sCiAgICBjdXJyZW50UGFnZTogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKICAgIHBhZ2VTaXplOiB7CiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgdHlwZTogTnVtYmVyCiAgICB9LAogICAgYWxsb3dTZWxlY3Rpb246IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNlbGVjdGlvbk1vZGU6IHsKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdzaW5nbGUnCiAgICB9LAogICAgc2VsZWN0ZWRDbGFzczogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3Z0LXNlbGVjdGVkJwogICAgfSwKICAgIGN1c3RvbVNlbGVjdGlvbjogewogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0sCiAgICBoaWRlU29ydEljb25zOiB7CiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgdHlwZTogQm9vbGVhbgogICAgfQogIH0sCiAgYmVmb3JlQ3JlYXRlICgpIHsKICAgIHRoaXMuc3RvcmUgPSBuZXcgVnVlKHN0b3JlKQogIH0sCiAgcHJvdmlkZSAoKSB7CiAgICByZXR1cm4gewogICAgICBzdG9yZTogdGhpcy5zdG9yZQogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBzdGF0ZTogdGhpcy5zdG9yZS5fZGF0YSwKICAgICAgaW5pdGlhbExvYWQ6IGZhbHNlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbmVlZHNQYWdpbmF0aW9uUmVzZXQgKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFnZSA+IHRoaXMudG90YWxQYWdlcwogICAgfSwKICAgIGZpbHRlcmVkRGF0YSAoKSB7CiAgICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIFtdCiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2YgdGhpcy5maWx0ZXJzICE9PSAnb2JqZWN0JykgewogICAgICAgIHJldHVybiB0aGlzLmRhdGEKICAgICAgfQoKICAgICAgcmV0dXJuIGRvRmlsdGVyKHRoaXMuZGF0YSwgdGhpcy5maWx0ZXJzKQogICAgfSwKICAgIHRvdGFsSXRlbXMgKCkgewogICAgICByZXR1cm4gdGhpcy5maWx0ZXJlZERhdGEubGVuZ3RoCiAgICB9LAogICAgc29ydGVkRGF0YSAoKSB7CiAgICAgIGlmICgodGhpcy5zdGF0ZS5zb3J0S2V5IHx8IHRoaXMuc3RhdGUuY3VzdG9tU29ydCkgJiYgdGhpcy5zdGF0ZS5zb3J0T3JkZXIgIT09IDApIHsKICAgICAgICByZXR1cm4gZG9Tb3J0KHRoaXMuZmlsdGVyZWREYXRhLCB0aGlzLnN0YXRlLnNvcnRLZXksIHRoaXMuc3RhdGUuY3VzdG9tU29ydCwgdGhpcy5zdGF0ZS5zb3J0T3JkZXIpCiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkRGF0YQogICAgfSwKICAgIHRvdGFsUGFnZXMgKCkgewogICAgICBpZiAoIXRoaXMucGFnZVNpemUpIHJldHVybiAwCgogICAgICByZXR1cm4gY2FsY3VsYXRlVG90YWxQYWdlcyh0aGlzLnRvdGFsSXRlbXMsIHRoaXMucGFnZVNpemUpCiAgICB9LAogICAgZGlzcGxheURhdGEgKCkgewogICAgICBpZiAodGhpcy5wYWdlU2l6ZSkgewogICAgICAgIHJldHVybiBkb1BhZ2luYXRlKHRoaXMuc29ydGVkRGF0YSwgdGhpcy5wYWdlU2l6ZSwgdGhpcy5jdXJyZW50UGFnZSkKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuc29ydGVkRGF0YQogICAgfSwKICAgIHNlbGVjdGVkUm93cyAoKSB7CiAgICAgIHJldHVybiB0aGlzLnN0YXRlLnNlbGVjdGVkUm93cwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRpc3BsYXlEYXRhOiB7CiAgICAgIGhhbmRsZXIgKCkgewogICAgICAgIGlmICghdGhpcy5pbml0aWFsTG9hZCkgewogICAgICAgICAgdGhpcy5pbml0aWFsTG9hZCA9IHRydWUKICAgICAgICAgIHRoaXMuJGVtaXQoJ2xvYWRlZCcsIHRoaXMpCiAgICAgICAgfQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBzZWxlY3Rpb25Nb2RlOiB7CiAgICAgIGhhbmRsZXIgKG1vZGUpIHsKICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGlvbk1vZGUgPSBtb2RlCiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIHNlbGVjdGVkQ2xhc3M6IHsKICAgICAgaGFuZGxlciAoc2VsZWN0ZWRDbGFzcykgewogICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRDbGFzcyA9IHNlbGVjdGVkQ2xhc3MKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgY3VzdG9tU2VsZWN0aW9uOiB7CiAgICAgIGhhbmRsZXIgKGN1c3RvbVNlbGVjdGlvbikgewogICAgICAgIHRoaXMuc3RhdGUuY3VzdG9tU2VsZWN0aW9uID0gY3VzdG9tU2VsZWN0aW9uCiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIGhpZGVTb3J0SWNvbnM6IHsKICAgICAgaGFuZGxlciAoaGlkZVNvcnRJY29ucykgewogICAgICAgIHRoaXMuc3RhdGUuaGlkZVNvcnRJY29ucyA9IGhpZGVTb3J0SWNvbnMKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgbmVlZHNQYWdpbmF0aW9uUmVzZXQ6IHsKICAgICAgaGFuZGxlciAobmVlZHNSZXNldCkgewogICAgICAgIGlmIChuZWVkc1Jlc2V0KSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Y3VycmVudFBhZ2UnLCAxKQogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgdG90YWxQYWdlczogewogICAgICBoYW5kbGVyICh0b3RhbFBhZ2VzKSB7CiAgICAgICAgdGhpcy4kZW1pdCgndG90YWxQYWdlc0NoYW5nZWQnLCB0b3RhbFBhZ2VzKQogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICB0b3RhbEl0ZW1zOiB7CiAgICAgIGhhbmRsZXIgKHRvdGFsSXRlbXMpIHsKICAgICAgICB0aGlzLiRlbWl0KCd0b3RhbEl0ZW1zQ2hhbmdlZCcsIHRvdGFsSXRlbXMpCiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIHNlbGVjdGVkUm93czogewogICAgICBoYW5kbGVyIChzZWxlY3RlZCkgewogICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGlvbkNoYW5nZWQnLCBzZWxlY3RlZCkKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXZlYWxJdGVtIChpdGVtKSB7CiAgICAgIGlmICghdGhpcy5wYWdlU2l6ZSkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KCiAgICAgIGxldCBpbmRleAogICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgICBpbmRleCA9IHRoaXMuc29ydGVkRGF0YS5maW5kSW5kZXgoaXRlbSkKICAgICAgfSBlbHNlIHsKICAgICAgICBpbmRleCA9IHRoaXMuc29ydGVkRGF0YS5pbmRleE9mKGl0ZW0pCiAgICAgIH0KCiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQoKICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBNYXRoLmNlaWwoKGluZGV4ICsgMSkgLyB0aGlzLnBhZ2VTaXplKQogICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Y3VycmVudFBhZ2UnLCBjdXJyZW50UGFnZSkKCiAgICAgIHJldHVybiB0cnVlCiAgICB9LAogICAgcmV2ZWFsUGFnZSAocGFnZSkgewogICAgICBpZiAoIXRoaXMucGFnZVNpemUgfHwgTnVtYmVyLmlzTmFOKHBhZ2UpIHx8IHBhZ2UgPCAxKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpjdXJyZW50UGFnZScsIHBhZ2UpCiAgICB9LAogICAgc2VsZWN0Um93IChyb3cpIHsKICAgICAgdGhpcy5zdG9yZS5zZWxlY3RSb3cocm93KQogICAgfSwKICAgIHNlbGVjdFJvd3MgKHJvd3MpIHsKICAgICAgdGhpcy5zdG9yZS5zZWxlY3RSb3dzKHJvd3MpCiAgICB9LAogICAgZGVzZWxlY3RSb3cgKHJvdykgewogICAgICB0aGlzLnN0b3JlLmRlc2VsZWN0Um93KHJvdykKICAgIH0sCiAgICBkZXNlbGVjdFJvd3MgKHJvd3MpIHsKICAgICAgdGhpcy5zdG9yZS5kZXNlbGVjdFJvd3Mocm93cykKICAgIH0sCiAgICBzZWxlY3RBbGwgKCkgewogICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlID09PSAnc2luZ2xlJykgcmV0dXJuCgogICAgICB0aGlzLnN0b3JlLnNlbGVjdEFsbCh0aGlzLmRhdGEpCiAgICB9LAogICAgZGVzZWxlY3RBbGwgKCkgewogICAgICB0aGlzLnN0b3JlLmRlc2VsZWN0QWxsKCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["VTable.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VTable.vue","sourceRoot":"node_modules/vuejs-smart-table/src","sourcesContent":["<template>\n  <table>\n    <slot name=\"head\"/>\n    <slot name=\"body\" :displayData=\"displayData\"/>\n  </table>\n</template>\n\n<script>\nimport { doFilter, doSort, calculateTotalPages, doPaginate } from './table-utils'\nimport store from './store'\nimport Vue from 'vue'\n\nexport default {\n  name: 'SmartTable',\n  props: {\n    data: {\n      required: true,\n      type: Array\n    },\n    filters: {\n      required: false,\n      type: Object\n    },\n    currentPage: {\n      required: false,\n      type: Number\n    },\n    pageSize: {\n      required: false,\n      type: Number\n    },\n    allowSelection: {\n      required: false,\n      type: Boolean,\n      default: false\n    },\n    selectionMode: {\n      required: false,\n      type: String,\n      default: 'single'\n    },\n    selectedClass: {\n      required: false,\n      type: String,\n      default: 'vt-selected'\n    },\n    customSelection: {\n      required: false,\n      type: Boolean\n    },\n    hideSortIcons: {\n      required: false,\n      type: Boolean\n    }\n  },\n  beforeCreate () {\n    this.store = new Vue(store)\n  },\n  provide () {\n    return {\n      store: this.store\n    }\n  },\n  data () {\n    return {\n      state: this.store._data,\n      initialLoad: false\n    }\n  },\n  computed: {\n    needsPaginationReset () {\n      return this.currentPage > this.totalPages\n    },\n    filteredData () {\n      if (this.data.length === 0) {\n        return []\n      }\n\n      if (typeof this.filters !== 'object') {\n        return this.data\n      }\n\n      return doFilter(this.data, this.filters)\n    },\n    totalItems () {\n      return this.filteredData.length\n    },\n    sortedData () {\n      if ((this.state.sortKey || this.state.customSort) && this.state.sortOrder !== 0) {\n        return doSort(this.filteredData, this.state.sortKey, this.state.customSort, this.state.sortOrder)\n      }\n\n      return this.filteredData\n    },\n    totalPages () {\n      if (!this.pageSize) return 0\n\n      return calculateTotalPages(this.totalItems, this.pageSize)\n    },\n    displayData () {\n      if (this.pageSize) {\n        return doPaginate(this.sortedData, this.pageSize, this.currentPage)\n      }\n\n      return this.sortedData\n    },\n    selectedRows () {\n      return this.state.selectedRows\n    }\n  },\n  watch: {\n    displayData: {\n      handler () {\n        if (!this.initialLoad) {\n          this.initialLoad = true\n          this.$emit('loaded', this)\n        }\n      },\n      immediate: true\n    },\n    selectionMode: {\n      handler (mode) {\n        this.state.selectionMode = mode\n      },\n      immediate: true\n    },\n    selectedClass: {\n      handler (selectedClass) {\n        this.state.selectedClass = selectedClass\n      },\n      immediate: true\n    },\n    customSelection: {\n      handler (customSelection) {\n        this.state.customSelection = customSelection\n      },\n      immediate: true\n    },\n    hideSortIcons: {\n      handler (hideSortIcons) {\n        this.state.hideSortIcons = hideSortIcons\n      },\n      immediate: true\n    },\n    needsPaginationReset: {\n      handler (needsReset) {\n        if (needsReset) {\n          this.$emit('update:currentPage', 1)\n        }\n      },\n      immediate: true\n    },\n    totalPages: {\n      handler (totalPages) {\n        this.$emit('totalPagesChanged', totalPages)\n      },\n      immediate: true\n    },\n    totalItems: {\n      handler (totalItems) {\n        this.$emit('totalItemsChanged', totalItems)\n      },\n      immediate: true\n    },\n    selectedRows: {\n      handler (selected) {\n        this.$emit('selectionChanged', selected)\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    revealItem (item) {\n      if (!this.pageSize) {\n        return true\n      }\n\n      let index\n      if (typeof item === 'function') {\n        index = this.sortedData.findIndex(item)\n      } else {\n        index = this.sortedData.indexOf(item)\n      }\n\n      if (index === -1) {\n        return false\n      }\n\n      const currentPage = Math.ceil((index + 1) / this.pageSize)\n      this.$emit('update:currentPage', currentPage)\n\n      return true\n    },\n    revealPage (page) {\n      if (!this.pageSize || Number.isNaN(page) || page < 1) {\n        return\n      }\n\n      this.$emit('update:currentPage', page)\n    },\n    selectRow (row) {\n      this.store.selectRow(row)\n    },\n    selectRows (rows) {\n      this.store.selectRows(rows)\n    },\n    deselectRow (row) {\n      this.store.deselectRow(row)\n    },\n    deselectRows (rows) {\n      this.store.deselectRows(rows)\n    },\n    selectAll () {\n      if (this.selectionMode === 'single') return\n\n      this.store.selectAll(this.data)\n    },\n    deselectAll () {\n      this.store.deselectAll()\n    }\n  }\n}\n</script>\n"]}]}